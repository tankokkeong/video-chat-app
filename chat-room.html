<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <!-- Bootstrap -->
    <link rel="stylesheet" href="bootstrap-4.5.3-dist/css/bootstrap.min.css">
    <script src="bootstrap-4.5.3-dist/js/jquery-3.5.1.slim.min.js"></script>
    <script src="bootstrap-4.5.3-dist/js/bootstrap.bundle.min.js"></script>

    <!-- Font awesome -->
    <link rel="stylesheet" href="fontawesome-free-5.15.1-web/css/all.css">
    <script src="fontawesome-free-5.15.1-web/js/all.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="style/chat-room.css">

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-database.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyCP2XDBzCqbs3cx0YCFXvmzvyDburd-DNc",
            authDomain: "video-chat-app-bf8bd.firebaseapp.com",
            projectId: "video-chat-app-bf8bd",
            storageBucket: "video-chat-app-bf8bd.appspot.com",
            messagingSenderId: "277090442992",
            appId: "1:277090442992:web:0c51c6ddceb411e5c2ac35"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        const firestore = firebase.firestore();
    </script>

    <!-- Javascript -->
    <script src="script/room.js"></script>
    <script src="script/main.js"></script>

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <title>Chat Room</title>
</head>
<body>
    <div class="chatroom-container">
        <div class="meeting-screen bg-dark">
            <div class="webcam-container">
                
                <div class="webcam-row row">
                    <div class="webcam-col col-sm-6 mt-2">
                        <div class="attendees-webcam">

                        </div>
                    </div>

                    <div class="webcam-col col-sm-6 mt-2">
                        <div class="attendees-webcam">

                        </div>
                    </div>

                    <div class="webcam-col col-sm-6 mt-2">
                        <div class="attendees-webcam">

                        </div>
                    </div>

                    <div class="webcam-col col-sm-6 mt-2">
                        <div class="attendees-webcam">

                        </div>
                    </div>
                </div>
                
            </div>

            <div class="room-details bg-white">
                <div class="row room-details-row">
                    <div class="col room-details-div bg-nav-selected" id="people-nav" onclick="roomNavbar('people-nav')">
                        <div class="room-details-col">
                            <div class="room-details-icon text-center">
                                12 <i class="fas fa-users"></i>
                            </div>
                        </div>
                        
                    </div>

                    <div class="col room-details-div" id="chat-nav" onclick="roomNavbar('chat-nav')">
                        <div class="room-details-col">
                            <div class="room-details-icon text-center">
                                <i class="fas fa-comment-alt"></i>
                            </div>
                        </div>
                       
                    </div>

                    <div class="col room-details-div">
                        <div class="room-details-col">
                            <div class="room-details-icon text-center">
                               
                            </div>
                        </div>
                    </div>
                </div>

                <div class="room-details-container">
                    <div class="room-attendees" id="attendees-list">
                        <div class="add-ateendees">
                            <i class="fas fa-user-plus"></i> Add People
                        </div>

                        <div class="attendees-row" id="attendees-row-display">

                            <!-- <div class="attendees-info">
                                <div class="attendees-video">
                                    <img src="images/attendees-video.PNG" alt="">
                                </div>

                                <div class="attendees-name">
                                    John Doe
                                </div>
                            </div> -->

                          

                        </div>
                    </div>

                    <div class="attendees-chat" style="display:none" id="chat-list">
                        <div class="chat-record" id="chat-record-display">
                            <!-- <div class="chat-message">
                                <div class="sender-name">
                                    John Doe
                                    <span class="ml-2 sender-time text-secondary">10:20</span>
                                </div>

                                <div class="sender-message">
                                    Hi, I am john doe
                                </div>
                            </div>

                            <div class="chat-message">
                                <div class="sender-name">
                                    John Doe
                                    <span class="ml-2 sender-time text-secondary">10:20</span>
                                </div>

                                <div class="sender-message">
                                    Hi, I am john doe
                                </div>
                            </div> -->

                    


                        </div>

                        <div class="chat-input">
                            <input type="text" class="chat-message-input" placeholder="Enter your message here" id="message-input" onkeyup="enterSendChatMessage()">
                        </div>
                    </div>
                </div>

                
            </div>

           
        </div>

        <div class="meeting-details bg-light">
            <div class="meeting-details-row">
                <div class="text-center details-row details-row-1">
                    <div class="meeting-details-container rounded-pill" id="room-code-container">
                        Room Code: 
                    </div>
                    <span class="details-trigger" id="details-trigger">Meeting Details <i class="fas fa-chevron-up ml-2"></i></span>
                </div>

                <div class="details-row details-row-2 text-center">
                    <button class="btn rounded-circle btn-outline-dark chat-action-btn"><i class="fas fa-microphone"></i></button>
                    <a href="index.html" class="btn rounded-circle btn-outline-dark chat-action-btn text-danger"><i class="fas fa-phone-slash"></i></a>
                    <button class="btn rounded-circle btn-outline-dark chat-action-btn"><i class="fas fa-video"></i></button>     
                </div>

                <div class="details-row details-row-3">

                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    //Check valid room
    checkRoomId();

    //Check Sign In
    roomCheckedLogin();

    //Display Attendees
    displayAttendees();

    //Display Chat Record
    displayChatRecord();

    //Leave room function
    leaveRoom();
</script>